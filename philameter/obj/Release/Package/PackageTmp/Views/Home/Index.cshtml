@model IEnumerable<philameter.DAL.Entities.Stats>

@{
    ViewBag.Title = "Index";
}

<div id="main-container">
    <div id="breadcrumb">
        <ul class="breadcrumb">
            <li><i class="fa fa-home"></i><a href="index.html"> Home</a></li>
            <li class="active">Dashboard</li>
        </ul>
    </div><!-- /breadcrumb-->


    <div class="padding-md">
        <div class="row">
            @foreach (var item in Model)
            {
                <div class="col-sm-6 col-md-3">
                    <div class="panel-stat3 bg-success">
                        <h2 class="m-top-none" id="Daily">0</h2>
                        <h5 id="birthDailyLabel">Births today</h5>
                        <i class="fa fa-child fa-lg"></i> @item.Name
                        <div class="stat-icon">
                            <i class="fa fa-birthday-cake fa-3x"></i>
                        </div>
                    </div>
                </div><!-- /.col -->
            }
        </div>
        <div class="row">
            <div class="col-sm-6 col-md-3">
                <div class="panel-stat3 bg-success">
                    <h2 class="m-top-none" id="birthDaily">0</h2>
                    <h5 id="birthDailyLabel">Births today</h5>
                    <i class="fa fa-child fa-lg"></i> #People
                    <div class="stat-icon">
                        <i class="fa fa-birthday-cake fa-3x"></i>
                    </div>
                </div>
            </div><!-- /.col -->
            <div class="col-sm-6 col-md-3">
                <div class="panel-stat3 bg-info">
                    <h2 class="m-top-none" id="birthMonthly">0</h2>
                    <h5 id="birthMonthlyLabel">Births this month</h5>
                    <i class="fa fa-child fa-lg"></i> #People
                    <div class="stat-icon">
                        <i class="fa fa-birthday-cake fa-3x"></i>
                    </div>
                </div>
            </div><!-- /.col -->
            <div class="col-sm-6 col-md-3">
                <div class="panel-stat3 bg-danger">
                    <h2 class="m-top-none" id="birthAnnually">0</h2>
                    <h5 id="birthYearlyLabel">Births this year</h5>
                    <i class="fa fa-child fa-lg"></i> #People
                    <div class="stat-icon">
                        <i class="fa fa-birthday-cake fa-3x"></i>
                    </div>
                </div>
            </div><!-- /.col -->
            <div class="col-sm-6 col-md-3">
                <div class="panel-stat3 bg-warning">
                    <h2 class="m-top-none" id="birthOther">0</h2>
                    <h5 id="birthOtherLabel">Births Other Stat</h5>
                    <i class="fa fa-child fa-lg"></i> #People
                    <div class="stat-icon">
                        <i class="fa fa-birthday-cake fa-3x"></i>
                    </div>
                </div>
            </div><!-- /.col -->
        </div>
        <div class="row">
            <div class="col-sm-6 col-md-4">
                <div class="panel-stat3 bg-danger">
                    <h2 class="m-top-none" id="septaDaily">0</h2>
                    <h5 id="septaDailyLabel">SEPTA ridership today</h5>
                    <i class="fa fa-exchange fa-lg"></i> #Transportation
                    <div class="stat-icon">
                        <i class="fa fa-subway fa-3x"></i>
                    </div>
                </div>
            </div><!-- /.col -->
            <div class="col-sm-6 col-md-4">
                <div class="panel-stat3 bg-success">
                    <h2 class="m-top-none" id="septaMonthly">0</h2>
                    <h5 id="pretzelMonthlyLabel">SEPTA ridership this month</h5>
                    <i class="fa fa-exchange fa-lg"></i> #Transportation
                    <div class="stat-icon">
                        <i class="fa fa-subway fa-3x"></i>
                    </div>
                </div>
            </div><!-- /.col -->
            <div class="col-sm-6 col-md-4">
                <div class="panel-stat3 bg-warning">
                    <h2 class="m-top-none" id="septaAnnually">0</h2>
                    <h5 id="pretzelYearlyLabel">SEPTA ridership this year</h5>
                    <i class="fa fa-exchange fa-lg"></i> #Transportation
                    <div class="stat-icon">
                        <i class="fa fa-subway fa-3x"></i>
                    </div>
                </div>
            </div><!-- /.col -->
        </div>
        <div class="row">
            <div class="col-sm-6 col-md-3">
                <div class="panel-stat3 bg-info">
                    <h2 class="m-top-none" id="pretzelDaily">0</h2>
                    <h5 id="pretzelDailyLabel">Pretzels eaten today</h5>
                    <i class="fa fa-exchange fa-lg"></i> #Food
                    <div class="stat-icon">
                        <i class="fa fa-cutlery fa-3x"></i>
                    </div>
                </div>
            </div><!-- /.col -->
            <div class="col-sm-6 col-md-3">
                <div class="panel-stat3 bg-danger">
                    <h2 class="m-top-none" id="pretzelMonthly">0</h2>
                    <h5 id="pretzelMonthlyLabel">Pretzels eaten this month</h5>
                    <i class="fa fa-exchange fa-lg"></i> #Food
                    <div class="stat-icon">
                        <i class="fa fa-cutlery fa-3x"></i>
                    </div>
                </div>
            </div><!-- /.col -->
            <div class="col-sm-6 col-md-3">
                <div class="panel-stat3 bg-warning">
                    <h2 class="m-top-none" id="pretzelAnnually">0</h2>
                    <h5 id="pretzelYearlyLabel">Pretzels eaten this year</h5>
                    <i class="fa fa-exchange fa-lg"></i> #Food
                    <div class="stat-icon">
                        <i class="fa fa-cutlery fa-3x"></i>
                    </div>
                </div>
            </div><!-- /.col -->
            <div class="col-sm-6 col-md-3">
                <div class="panel-stat3 bg-success">
                    <h2 class="m-top-none" id="pretzelOther">0</h2>
                    <h5>Pretzels other</h5>
                    <i class="fa fa-cutlery fa-lg"></i> #Food
                    <div class="stat-icon">
                        <i class="fa fa-cutlery fa-3x"></i>
                    </div>
                </div>
            </div><!-- /.col -->
        </div>
    </div><!-- /.padding-md -->
</div><!-- /main-container -->

@section Scripts
{
<script src="~/Assets/js/statgroups/birth.js"></script>
<script src="~/Assets/js/statgroups/pretzel.js"></script>


@foreach (var item in Model)
{
    
    <script>
    $(function () {
        var @item.Name = 333600;

        $(window).load(function (e) {

            //Initial Animations
            var d = new Date();
            var dayStart = new Date(d.getFullYear(), d.getMonth(), d.getDate());
            var monthStart = new Date(d.getFullYear(), d.getMonth(), 1);
            var yearStart = new Date(d.getFullYear(), 1, 1);

            var currentSeptaDaily = ((d - dayStart) / 86400000) * @item.Name;
            $({ numberValue: 0 }).animate({ numberValue: currentSeptaDaily }, {
                duration: 1000,
                easing: 'linear',
                step: function () {
                    $('#septaDaily').text(Math.ceil(this.numberValue));
                }
            });

            var currentSeptaMonthly = ((d - monthStart) / 86400000) * @item.Name;
            $({ numberValue: 0 }).animate({ numberValue: currentSeptaMonthly }, {
                duration: 2000,
                easing: 'linear',
                step: function () {
                    $('#septaMonthly').text(Math.ceil(this.numberValue));
                }
            });

            var currentSeptaAnnually = ((d - yearStart) / 86400000) * @item.Name;
            $({ numberValue: 0 }).animate({ numberValue: currentSeptaAnnually }, {
                duration: 4000,
                easing: 'linear',
                step: function () {
                    $('#septaAnnually').text(Math.ceil(this.numberValue));
                }
            });


            setInterval(function () {
                var currentNumber = $('#septaDaily').text();
                var d = new Date();
                var dayStart = new Date(d.getFullYear(), d.getMonth(), d.getDate());
                var newNumber = ((d - dayStart) / 86400000) * @item.Name;

                $({ numberValue: currentNumber }).animate({ numberValue: newNumber }, {
                    duration: 500,
                    easing: 'linear',
                    step: function () {
                        $('#septaDaily').text(Math.ceil(this.numberValue));
                    }
                });
            }, 2000);

            setInterval(function () {
                var currentNumber = $('#septaMonthly').text();

                var d = new Date();
                var monthStart = new Date(d.getFullYear(), d.getMonth(), 1);
                var time = d.getTime();
                var newNumber = ((d - monthStart) / 86400000) * @item.Name;
                    $({ numberValue: currentNumber }).animate({ numberValue: newNumber }, {
                        duration: 1500,
                        easing: 'linear',
                        step: function () {
                            $('#septaMonthly').text(Math.ceil(this.numberValue));
                        }
                    });
                }, 4500);

                setInterval(function () {
                    var currentNumber = $('#septaAnnually').text();

                    var d = new Date();
                    var yearStart = new Date(d.getFullYear(), 1, 1);
                    var time = d.getTime();
                    var newNumber = ((d - yearStart) / 86400000) * @item.Name;
                    $({ numberValue: currentNumber }).animate({ numberValue: newNumber }, {
                        duration: 2500,
                        easing: 'linear',
                        step: function () {
                            $('#septaAnnually').text(Math.ceil(this.numberValue));
                        }
                    });
                }, 8500);

            });
        });
    </script>
}

}
